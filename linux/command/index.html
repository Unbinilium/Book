<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Command | Unbinilium&#39;s 📖</title>
    <meta name="description" content="Unbinilium&#39;s personal knowledge book">
    <meta name="generator" content="VuePress 1.4.0">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover">
  <link rel="manifest" href="/manifest.json" crossorigin="use-credentials">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.ico">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#fff">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="msapplication-TileColor" content="#fff">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon.png">
    
    <link rel="preload" href="/assets/css/0.styles.e8e0687e.css" as="style"><link rel="preload" href="/assets/js/app.cf751f64.js" as="script"><link rel="preload" href="/assets/js/2.f5613a4d.js" as="script"><link rel="preload" href="/assets/js/22.4103ef3f.js" as="script"><link rel="preload" href="/assets/js/3.fee81bc3.js" as="script"><link rel="prefetch" href="/assets/js/10.4e211c24.js"><link rel="prefetch" href="/assets/js/11.4de2d28f.js"><link rel="prefetch" href="/assets/js/12.9316d203.js"><link rel="prefetch" href="/assets/js/13.5951b3ce.js"><link rel="prefetch" href="/assets/js/14.adc349e6.js"><link rel="prefetch" href="/assets/js/15.de14786f.js"><link rel="prefetch" href="/assets/js/16.69458723.js"><link rel="prefetch" href="/assets/js/17.d4d4d50a.js"><link rel="prefetch" href="/assets/js/18.7e9a3f9b.js"><link rel="prefetch" href="/assets/js/19.b93e5a39.js"><link rel="prefetch" href="/assets/js/20.5a20d8ae.js"><link rel="prefetch" href="/assets/js/21.14b28521.js"><link rel="prefetch" href="/assets/js/23.0310c61b.js"><link rel="prefetch" href="/assets/js/24.988e1c17.js"><link rel="prefetch" href="/assets/js/25.e5cc4252.js"><link rel="prefetch" href="/assets/js/26.93266c94.js"><link rel="prefetch" href="/assets/js/27.481ab05e.js"><link rel="prefetch" href="/assets/js/28.29ef28f3.js"><link rel="prefetch" href="/assets/js/29.95a736b7.js"><link rel="prefetch" href="/assets/js/30.503d1a49.js"><link rel="prefetch" href="/assets/js/31.0a42eabb.js"><link rel="prefetch" href="/assets/js/32.5a9323af.js"><link rel="prefetch" href="/assets/js/33.6c1aa0e5.js"><link rel="prefetch" href="/assets/js/34.c3aa7093.js"><link rel="prefetch" href="/assets/js/35.86facf3c.js"><link rel="prefetch" href="/assets/js/36.39073e68.js"><link rel="prefetch" href="/assets/js/37.f7e50974.js"><link rel="prefetch" href="/assets/js/38.27d8a2b2.js"><link rel="prefetch" href="/assets/js/39.7d37c475.js"><link rel="prefetch" href="/assets/js/4.6dee130a.js"><link rel="prefetch" href="/assets/js/5.cd27f5b5.js"><link rel="prefetch" href="/assets/js/6.817cc68b.js"><link rel="prefetch" href="/assets/js/7.19de616b.js"><link rel="prefetch" href="/assets/js/8.0ca25d1a.js"><link rel="prefetch" href="/assets/js/9.bef03a53.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e0687e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Unbinilium's 📖</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Book
</a></div><div class="nav-item"><a href="https://unbinilium.me/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Book
</a></div><div class="nav-item"><a href="https://unbinilium.me/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Coding</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Programming</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Software</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/linux/command/" class="active sidebar-link">Command</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linux/command/#use-proxy-in-commandline" class="sidebar-link">Use proxy in commandline</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/linux/command/#proxy-with-apt" class="sidebar-link">Proxy with apt</a></li><li class="sidebar-sub-header"><a href="/linux/command/#proxy-with-pip" class="sidebar-link">Proxy with pip</a></li><li class="sidebar-sub-header"><a href="/linux/command/#proxy-with-git" class="sidebar-link">Proxy with git</a></li><li class="sidebar-sub-header"><a href="/linux/command/#proxy-with-brew" class="sidebar-link">Proxy with brew</a></li><li class="sidebar-sub-header"><a href="/linux/command/#disable-commandline-proxy" class="sidebar-link">Disable commandline proxy</a></li><li class="sidebar-sub-header"><a href="/linux/command/#handy-proxy-with-alias" class="sidebar-link">Handy proxy with alias</a></li></ul></li></ul></li><li><a href="/linux/networking/" class="sidebar-link">Networking</a></li><li><a href="/linux/optmization/" class="sidebar-link">Optimization</a></li><li><a href="/linux/software/" class="sidebar-link">Software</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Design</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Writing</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Collection</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="use-proxy-in-commandline"><a href="#use-proxy-in-commandline" class="header-anchor">#</a> Use proxy in commandline</h2> <p>Usually we got a system based proxy but it not works in command line tools like the terminal. We could easily add such proxy by replacing the proxy information below and run them in terminal.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">http_proxy</span><span class="token operator">=</span>protocol://username:password@proxyhost:port/
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ftp_proxy</span><span class="token operator">=</span>protocol://username:password@proxyhost:port/
<span class="token builtin class-name">export</span> <span class="token assign-left variable">telnet_proxy</span><span class="token operator">=</span>protocol://username:password@proxyhost:port/
</code></pre></div><p>The <code>protocol</code> should be <code>http</code>, <code>https</code> or <code>socks5</code> depends on what type of proxy you are using. Further more, we could add this to <code>~/.*shrc</code> to initialize proxy when terminal start by <code>sudo nano ~/.*shrc</code>.</p> <h3 id="proxy-with-apt"><a href="#proxy-with-apt" class="header-anchor">#</a> Proxy with <code>apt</code></h3> <p>Let <code>apt</code> work with socks5 proxy, add arguments like this</p> <div class="language-bash extra-class"><pre class="language-bash"><code>-o Acquire::http::proxy<span class="token operator">=</span><span class="token string">&quot;protocolh://proxyhost:proxyport/&quot;</span>
</code></pre></div><p>For example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> -o Acquire::http::proxy<span class="token operator">=</span><span class="token string">&quot;socks5h://127.0.0.1:1080/&quot;</span> update
</code></pre></div><h3 id="proxy-with-pip"><a href="#proxy-with-pip" class="header-anchor">#</a> Proxy with <code>pip</code></h3> <p>Another big problem is using a proxy like <code>socks5</code> in <code>pip</code>, <code>git</code> or even <code>brew</code>, let's have a try. For example, when setting up a socks5 proxy in pip, <code>pysocks</code> is required as a dependency and we add it by:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>pip <span class="token function">install</span> pysocks
</code></pre></div><p>Then we cloud use pip with a socks5 proxy with command formarted like this:</p> <div class="language- extra-class"><pre class="language-text"><code>pip install &lt;yourpacakge&gt; --proxy socks5:proxyhost:port
</code></pre></div><h3 id="proxy-with-git"><a href="#proxy-with-git" class="header-anchor">#</a> Proxy with <code>git</code></h3> <p>Similarly we replace <code>protocol</code> with the proxy type you have to configure git. After that we use git directly, all the data will throught the proxy.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> config --global http.proxy protocol://username:password@proxyhost:port
</code></pre></div><p>You can also try the command below to show all <code>http</code> proxy sections that set globally. If you set as local config then you should drop the <em>argv</em> <code>--global</code> to see the current proxy config in local path.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> config --global --get-regexp http.*
</code></pre></div><h3 id="proxy-with-brew"><a href="#proxy-with-brew" class="header-anchor">#</a> Proxy with <code>brew</code></h3> <p>If you're a macOS user with homebrew, you can try</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">ALL_PROXY</span><span class="token operator">=</span>protocol://username:password@proxyhost:port brew <span class="token function">install</span> <span class="token operator">&lt;</span>yourpackage<span class="token operator">&gt;</span>
</code></pre></div><h3 id="disable-commandline-proxy"><a href="#disable-commandline-proxy" class="header-anchor">#</a> Disable commandline proxy</h3> <p>Finally you cloud easily disable these proxies. For <code>shell</code> in terminal you should remove the proxy settings in <code>~/.*shrc</code> first and restart your terminal, or use <code>unset &lt;name_proxy&gt;</code>. For git you're supposed to clean the configuration by cammand:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> config --global --unset http.proxy
</code></pre></div><h3 id="handy-proxy-with-alias"><a href="#handy-proxy-with-alias" class="header-anchor">#</a> Handy proxy with alias</h3> <p>We simply add this as alias like this(required to replace with your proxy information):</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">alias</span> <span class="token assign-left variable">proxy_enable</span><span class="token operator">=</span><span class="token string">&quot;http_proxy=socks5://127.0.0.1:1080&quot;</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">proxy_disable</span><span class="token operator">=</span><span class="token string">&quot;unset http_proxy&quot;</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">system_update</span><span class="token operator">=</span><span class="token string">&quot;sudo apt-get -o Acquire::http::proxy=&quot;</span>socks5h://127.0.0.1:1080/<span class="token string">&quot; update&quot;</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">system_upgrade</span><span class="token operator">=</span><span class="token string">&quot;sudo apt-get -o Acquire::http::proxy=&quot;</span>socks5h://127.0.0.1:1080/<span class="token string">&quot; dist-upgrade&quot;</span>
</code></pre></div><p>Then just open <em>new BASH</em> window and type <code>system_update</code>, it actually executes:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> -o Acquire::http::proxy<span class="token operator">=</span><span class="token string">&quot;socks5h://127.0.0.1:1080/&quot;</span> update
</code></pre></div><p>And pass all <code>apt</code> traffic through socks5 proxy <code>127.0.0.1:1080</code>.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">CC BY-SA 4.0 / Last Updated:</span> <span class="time">3/20/2020, 7:14:53 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/software/affinity/" class="prev">
        Affinity
      </a></span> <span class="next"><a href="/linux/networking/">
        Networking
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.cf751f64.js" defer></script><script src="/assets/js/2.f5613a4d.js" defer></script><script src="/assets/js/22.4103ef3f.js" defer></script><script src="/assets/js/3.fee81bc3.js" defer></script>
  </body>
</html>
